<div class="flex flex-col space-y-2 text-gray-300">
  <div class="flex flex-col space-y-1 lg:flex-row lg:space-x-4">
    <div class="grow">
      <h1 class="font-medium text-gray-100 text-lg"><%= t "execution.logs" %></h1>
    </div>
    <div class="text-sm flex flex-row items-end space-x-2">
      <% if log_exist? %>
        <p class="font-medium"><%= Execution.human_attribute_name(:log_identifier) %>:</p>
        <%= link_to @execution.log_file.basename, download_log_execution_path(@execution), target: "_blank" %>
      <% end %>
    </div>
  </div>
  <div class="grow text-xs font-mono py-4 overflow-y-auto tracking-wide subpixel-antialiased">
    <% if log_exist? %>
      <% current_severity = "INFO" %>
      <% logs do |index, time, severity, message| %>
        <% current_severity = severity || current_severity %>
        <%= tag.div class: log_line_css(current_severity), id: "line-#{index + 1}" do %>
          <div class="text-right w-6"><a href="#line-<%= index + 1 %>" class="no-underline!"><%= index + 1 %></a></div>
          <div class="grow text-gray-200"><%= message %></div>
          <div class="text-right hidden lg:flex"><%= time %></div>
        <% end %>
      <% end %>
    <% elsif !@execution.pending? %>
      <div class="px-4">
        <%= t("execution.no_log") %>
      </div>
    <% end %>
  </div>
</div>
