<%= fields_for :probe, @probe, { include_id: false } do |form| %>
  <div class="flex flex-col space-y-3 lg:flex-row border-t border-neutral-500 pt-6">
    <div class="lg:basis-3/10 pb-3 lg:pb-0">
      <div class="lg:mr-6 lg:pt-2 lg:pl-2">
        <h3 class="text-lg font-semibold text-gray-100"><%= @probe.model_name.human %> <%= Probe.human_attribute_name(:settings) %></h3>
      </div>
    </div>
    <div class="lg:basis-7/10 space-y-3 lg:grid lg:grid-cols-6 lg:gap-6">

      <div class="col-span-3 flex flex-col space-y-1">
        <%= form.label :host, class: helpers.label_css %>
        <%= form.text_field :host, class: helpers.input_css  %>
        <%= render FormHelptextComponent.new(errors: @probe.errors, field: :host) %>
      </div>

      <div class="col-span-3 flex flex-col space-y-1">
        <%= form.label :record, class: helpers.label_css %>
        <div class="grid grid-cols-1">
          <%= form.select :record, options_for_select(record_options, @probe.record), {}, { class: helpers.select_css } %>
          <svg viewBox="0 0 16 16" fill="currentColor" data-slot="icon" aria-hidden="true" class="pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end text-gray-500 sm:size-4">
            <path d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" fill-rule="evenodd" />
          </svg>
        </div>
        <%= render FormHelptextComponent.new(errors: @probe.errors, field: :record) %>
      </div>

      <div class="col-span-2 flex flex-col space-y-1">
        <%= form.label :nameserver, class: helpers.label_css %>
        <%= form.text_field :nameserver, class: helpers.input_css  %>
        <%= render FormHelptextComponent.new(errors: @probe.errors, field: :nameserver) %>
      </div>

      <div class="col-span-2 flex flex-col space-y-1">
        <%= form.label :port, class: helpers.label_css %>
        <%= form.text_field :port, class: helpers.input_css  %>
        <%= render FormHelptextComponent.new(errors: @probe.errors, field: :port) %>
      </div>

      <div class="col-span-2 flex flex-col space-y-1">
        <%= form.label :protocol, class: helpers.label_css %>
        <div class="flex flex-row space-x-6 pt-2">
          <% Probes::Dns::PROTOCOLS.each do |p| %>
            <div class="flex flex-row">
              <%= form.radio_button :protocol, p, class: helpers.radio_css %>
              <%= form.label :protocol, p.upcase, value: p, class: "#{helpers.label_css} pl-2" %>
            </div>
          <% end %>
        </div>
        <%= render FormHelptextComponent.new(errors: @probe.errors, field: :protocol) %>
      </div>

    </div>
  </div>
<% end %>
